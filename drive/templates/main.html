
{% load static %}
<a href="#profile"></a>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6" style="width: 24px; height: 24px; color: black;"></svg>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DriveMe - Accueil</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      background-color: #f7f7f7;
      padding: 20px;
      position: fixed;
      height: 100%;
      border-right: 1px solid #ddd;
    }

    .sidebar h2 {
      margin-bottom: 20px;
      font-size: 20px;
    }

    .sidebar ul {
      list-style-type: none;
      padding: 0;
    }

    .sidebar ul li {
      margin-bottom: 10px;
    }

    .sidebar ul li a {
      text-decoration: none;
      color: #333;
      font-size: 16px;
    }

    /* Navbar */
    .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #f7f7f7;
            color: white;
            padding: 0px 0; /* Adjust this value to reduce height */
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            border-bottom: 1px solid #ddd;
        }
        .navbar .left, .navbar .right {
            display: flex;
        }
        .navbar a {
            color: rgb(0, 0, 0);
            padding: 8px 15px; /* Adjust this value to reduce height */
            text-decoration: none;
            display: inline-block;
        }
        .navbar .right a:hover {
            background-color: #ddd;
            color: black;
            border-radius: 15px;
        }

    /* Main content */
    .main-content {
      margin-top: 40px;
      margin-left: 270px;
      padding: 20px;
      flex: 1;
      background-color: #ffffff;
    }

    .file-item {
      display: inline-block;
      text-align: center;
      margin: 10px;
    }

    .file-item img {
      width: 100px;
      height: 100px;
    }

    .file-item p {
      margin-top: 5px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .sidebar {
        width: 200px;
      }
      .main-content {
        margin-left: 210px;
      }
    }

    @media (max-width: 480px) {
      .sidebar {
        width: 150px;
      }
      .main-content {
        margin-left: 160px;
      }
    }
  </style>
</head>


<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <ul>
      <li><a href="#">Recents</a></li>
      <li><a href="#">Browse</a></li>
      <li><a href="#">Shared</a></li>
    <li><a href="#" style="display: flex; align-items: center;"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 16px; height: 16px; margin-right: 5px; color: rgb(64, 115, 255);"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18.75A2.25 2.25 0 0 0 8.25 21h7.5A2.25 2.25 0 0 0 18 18.75V7.5H6v11.25zM9 7.5V6a3 3 0 0 1 6 0v1.5M4.5 7.5h15"/></svg>Recently Deleted</a></li>
      <li><a href="#">Favourites</a></li>
      <li><a href="#">Downloads</a></li>
      <li><a href="{% url 'logout' %}">Déconnexion</a></li>
    </ul>
  </div>

  <!-- Navbar -->
  <div class="navbar">
    <div class="left">
        <a href="#home">
            <img src="{% static 'img/logo.png' %}" alt="Logo" style="vertical-align: middle; margin-right: 8px;width: 40px;height: 40px;text-align: left;">
            Drive<span style="color: rgb(64, 115, 255);">Me</span>
        </a>
    </div>
    <div class="right">
        <a href="#warning" style="font-size: 24px;">
            <div style="width: 24px; height: 24px; background-color: orange; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
            <span style="color: white; font-weight: bold;">!</span>
            </div>
        </a>
        <a href="#success" style="font-size: 24px;">
            <div style="width: 24px; height: 24px; background-color: green; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
            <span style="color: white; font-weight: bold;">✔</span>
            </div>
        </a>
        <a href="#error" style="font-size: 24px;">
            <div style="width: 24px; height: 24px; background-color: red; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
            <span style="color: white; font-weight: bold;">✖</span>
            </div>
        </a>
        <a href="#profile">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
              </svg>
              
        </a>
        
    </div>
</div>

  <!-- Main Content -->
<div class="main-content">
    <div class="sub-navbar">
        <div class="left">
            <input type="text" placeholder="Search..." style="width: 100%; padding: 5px; border: 1px solid #ddd; border-radius: 4px;">
        </div>
        <div class="sub-navbar"> <!-- bouton pour ajouter un fichier -->
          <div class="center">
              <button id="openModalBtn" style="padding: 5px 10px; border: 1px solid #ddd; border-radius: 4px; background-color: #f7f7f7; cursor: pointer;">+</button>
          </div>
      </div>
        <div class="right">Right Text</div>
    </div>


<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriveMe - Accueil</title>
    <style>
        /* Styles de la page */
        /* Ajoutez vos styles ici */
        
        /* Styles pour la modale */
        .modal {
            display: none; /* Cachée par défaut */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Fond transparent noir */
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #ffffff;
            padding: 20px;
            border-radius: 5px;
            width: 400px;
            max-width: 80%;
        }

        .close-btn {
            color: red;
            float: right;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body>



<!-- Modale de formulaire -->
  <div id="fileModal" class="modal">
      <div class="modal-content">
          <span class="close-btn" id="closeModalBtn">&times;</span>
          <h3>Ajouter un fichier</h3>
          <form action="#" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
              <label for="fileName">Nom du fichier :</label>
              <input type="text" id="fileName" name="fileName" required>
              
              <label for="fileUpload">Choisissez un fichier :</label>
              <input type="file" id="fileUpload" name="fileUpload" required>
              
              <button type="submit">Uploader</button>
          </form>
      </div>
  </div>
  <h1>Mes Documents</h1>
  <a href="{% url 'create_folder' %}">Créer un dossier</a>
  {% for dossier in dossiers %}
  <div>
      <h3>
          <a href="{% url 'folder_documents' folder_id=dossier.id %}">{{ dossier.nom }}</a>
                <!-- Bouton avec trois points pour les actions -->
          <div class="action-menu">
            <button class="menu-button">⋮</button>
            <div class="dropdown-content">
                <a href="{% url 'upload_folder' folder_id=dossier.id %}">Télécharger un fichier</a>
                <a href="{% url 'rename_folder' folder_id=dossier.id %}">Renommer</a>
            </div>
          </div>
      </h3>
  </div>
  {% empty %}
  <p>Aucun dossier trouvé.</p>
  {% endfor %}
  
    
  <div class="filter">
      <label for="type_fichier">Filtrer par type de fichier:</label>
      <select id="type_fichier" name="type_fichier" onchange="filterDocuments(this.value)">
          <option value="">Tous</option>
          <option value="pdf">PDF</option>
          <option value="docx">Word</option>
          <option value="xlsx">Excel</option>
          <!-- Ajoutez d'autres types de fichiers si nécessaire -->
      </select>
  </div>
  
  <div class="document-grid">
      {% for document in documents %}
          <div class="document-card">
              <img src="{% static 'icons/'|add:document.type_fichier|add:'.png' %}" alt="{{ document.nom }}">
              <h3>{{ document.nom }}</h3>
              <p>Type: {{ document.type_fichier }}</p>
              <p>Taille: {{ document.taille_fichier }} Ko</p>
              <p>Date d'ajout: {{ document.date_ajout|date:"d M Y" }}</p>
          </div>
      {% empty %}
          <p>Aucun document trouvé.</p>
      {% endfor %}
  </div>
  
    <!-- Ajouter d'autres fichiers ici -->
</div>

<style>
    .sub-navbar {
        position: sticky;
        top: 0;
        background-color: #ffffff;
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 999;
    }
    .sub-navbar .left, .sub-navbar .center, .sub-navbar .right {
        flex: 1;
        text-align: center;
    }
    .sub-navbar .left {
        text-align: left;
    }
    .sub-navbar .right {
        text-align: right;
    }
    .action-menu {
      position: relative;
      display: inline-block;
  }
  
  .menu-button {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 20px; /* Taille du bouton */
      padding: 0; /* Supprime le padding par défaut */
  }
  
  .dropdown-content {
      display: none; /* Masquer par défaut */
      position: absolute;
      background-color: #f9f9f9;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
  }
  
  .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
  }
  
  .dropdown-content a:hover {
      background-color: #f1f1f1;
  }
  
  .action-menu:hover .dropdown-content {
      display: block; /* Afficher le menu lorsque l'utilisateur survole le bouton */
  }
  
</style>
<script>
  function filterDocuments(type) {
      const cards = document.querySelectorAll('.document-card');
      cards.forEach(card => {
          if (type === "" || card.querySelector('p:nth-child(2)').textContent.includes(type)) {
              card.style.display = 'block';
          } else {
              card.style.display = 'none';
          }
      });
  }
</script>
<script>
  // JavaScript pour afficher/masquer la modale
  const openModalBtn = document.getElementById('openModalBtn');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const fileModal = document.getElementById('fileModal');

  openModalBtn.addEventListener('click', () => {
      fileModal.style.display = 'flex';
  });

  closeModalBtn.addEventListener('click', () => {
      fileModal.style.display = 'none';
  });

  // Ferme la modale si on clique en dehors
  window.addEventListener('click', (event) => {
      if (event.target == fileModal) {
          fileModal.style.display = 'none';
      }
  });
</script>
</body>
</html>
